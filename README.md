# THOP

Простая реализация системного монитора в стиле htop на Go.

## Возможности

- Отображение использования CPU в реальном времени с цветовой индикацией
- Отображение использования памяти с цветовой индикацией
- Список запущенных процессов с информацией о CPU и памяти
- Цветовая индикация нагрузки:
  - Зеленый: < 50%
  - Пурпурный: 50-69%
  - Желтый: 70-89%
  - Красный: ≥ 90%

## Требования

- Go 1.22 или выше
- Зависимости:
  - github.com/gizak/termui/v3
  - github.com/shirou/gopsutil/v3

## Установка

```bash
go mod download
```

## Запуск

```bash
go run cmd/thop/main.go
```

## Управление

- `q` или `Ctrl+C` для выхода
- Обновление данных происходит каждую секунду

## Тестирование

Для запуска всех тестов:

```bash
go test ./...
```

Для запуска тестов с отчетом о покрытии:

```bash
go test ./... -cover
```

### Покрытие тестами

- `internal/system`: 92.9% - тесты для работы с системными процессами
- `internal/ui`: 82.0% - тесты UI компонентов с использованием моков
- `cmd/thop`: точка входа в приложение

Тесты разделены на несколько категорий:
- Модульные тесты (например, `TestGetColorByPercent`)
- Интеграционные тесты (например, `TestMainIntegration`)
- Тесты с таблицами данных (например, `TestProcessInfo_Validation`)

## Структура проекта

```
.
├── cmd/
│   └── thop/
│       ├── main.go          # Точка входа в приложение
│       └── main_test.go     # Интеграционные тесты
├── internal/
│   ├── ui/
│   │   ├── dashboard.go     # Логика пользовательского интерфейса
│   │   └── dashboard_test.go # Тесты UI компонентов
│   └── system/
│       ├── process.go       # Работа с системными процессами
│       └── process_test.go  # Тесты обработки процессов
├── go.mod                   # Управление зависимостями
└── README.md               # Документация проекта
```